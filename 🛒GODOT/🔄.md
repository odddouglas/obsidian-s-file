#### 变量的概念与简单操作
- 变量是可以代表数据的一种抽象概念。可以通过对变量名的操作来对变量代表的数据 进行操作。 
- 在 GDS 中，你可以创建自定义的变量，也可以使用内置代码中的变量。 
```python
var a = 1
var b :float = 2.26
var c :String = "Hello"
var d :bool = true
var e = false
```
- 变量可以进行计算与转换。
```python
var a = 5
var b = "10"

# 计算
var result = a + b  # 结果是字符串 "510"

# 类型转换
var int_result = a + b.to_int()  # 结果是整数 15

```
- 即使是同一脚本文件，绑定不同的对象从而产生了同名的变量，这两个变量以及变量 代表的数据也分别属于不同的对象，互相独立。因此使用变量前必须指明变量所属的对象。`self`是GDScript中的一个隐式关键字，表示当前对象的实例。通过使用`self`，你可以确保访问的是正确实例的变量。
```python
# MyScript.gd

extends Node

var shared_variable = 10

func _ready():
    # 使用 self 关键字指明变量所属的对象
    print(self.shared_variable)
```

#### 由四种基本变量组成的其他值类型变量
- 值变量：执行 变量 A= 变量 B 这段代码时，变量 A 会重新创建一个与 B 变量值相同的 数据。对于 A 变量的修改无法影响到 B。 在这个示例中，`variableA`被赋值为`variableB`的副本，因此修改`variableA`的值不会影响到`variableB`。
```python
# 值变量示例
var variableB = 10
var variableA = variableB  # 值变量，会创建一个新的副本

# 修改 A 不会影响 B
variableA += 5
print("Variable A:", variableA)  # 输出 15
print("Variable B:", variableB)  # 输出 10

```
- 引用变量：执行 变量 A= 变量 B 这段代码时，变量 A 不会重新创建一个与 B 变量值相 同的数据。对于 A 变量的修改可以影响到 B。在这个示例中，`arrayA`被赋值为`arrayB`的引用，它们共享相同的数组数据。因此，修改`arrayA`的值会影响到`arrayB`。
```python
# 引用变量示例
var arrayB = [1, 2, 3]
var arrayA = arrayB  # 引用变量，共享相同的数据

# 修改 A 会影响 B
arrayA[0] = 10
print("Array A:", arrayA)  # 输出 [10, 2, 3]
print("Array B:", arrayB)  # 输出 [10, 2, 3]

```
- 大部分变量都是值变量 

#### 数据类型的转换
```python
var my_integer = 42
var my_float = float(my_integer)  # 整型转换为浮点数

var my_float = 3.14
var my_integer = int(my_float)  # 浮点型转换为整数，小数部分将被截断

var my_integer = 42
var my_string = str(my_integer)  # 整数转换为字符串
var my_string = "123"
var my_integer = toint(my_string)  # 字符串转换为整数

var my_float = 3.14
var my_string = str(my_float)  # 浮点型转换为字符串
var my_string = "3.14"
var my_float = toreal(my_string)  # 字符串转换为浮点数

var my_bool = true
var my_string = str(my_bool)  # 布尔转换为字符串，结果是 "true"
var my_string = "false"
var my_bool = tobool(my_string)  # 字符串转换为布尔值

var my_bool = true
var my_integer = int(my_bool) #`true` 被转换为 `1`，而 `false` 被转换为 `0`。

var my_integer = 42
var my_bool = bool(my_integer) # 其中非零整数被视为 `true`(-1也是true)，而零被视为 `false`。
```
#### 容器
- **Vector2：** `Vector2` 是专门设计用于表示二维向量的类型。它包含两个浮点型分量：`x` 和 `y`，分别表示向量在水平和垂直方向上的分量。`Vector2` 类型提供了许多向量操作，如长度计算、归一化、点积、叉积等。这使得它非常适合表示平面上的位置、速度、方向等。
```python
var vector = Vector2(3, 4)
print("Length:", vector.length())  # 输出向量长度
```
- **Array：** `Array` 是一个通用的动态数组，可以包含各种不同类型的元素，包括数字、字符串、其他数组等。数组可以是一维的，也可以是多维的。数组提供了对元素的访问、添加、删除等基本操作。
```python
var array = [1, 2, 3, "four"]
print("Element at index 2:", array[2])  # 输出数组中索引为 2 的元素
```
- 虽然它们都用于存储数据，但 `Vector2` 更适合表示有方向和大小的二维向量，而 `Array` 更通用，可以包含不同类型和维度的数据。

#### 字符串转数据类型
- 当你从用户输入（例如文本框或键盘输入）中获取数据时，它通常是字符串形式。如果你需要将这些数据用于数学计算、游戏逻辑或其他需要数值的地方，你可能需要将其转换为整数、浮点数或其他适当的类型。
- `String` 类型有一些内置的函数，其中包括 `to*_` 系列函数，可以用于将字符串转换为其他基本类型。其中 `String.num` 是一个用于将字符串转换为数字（整数或浮点数）的函数。这个函数会尝试解析字符串并将其转换为数值，如果无法成功解析，则返回 `0`。
```python
var my_string = "42"
var my_integer = my_string.to_int()  # 使用 to_int 将字符串转换为整数
var my_string = "123"
var my_integer = my_string.num()  # 或者 num 将字符串转换成整数

print("Original String:", my_string)
print("Converted Integer:", my_integer)


var my_string = "3.14"
var my_float = my_string.to_real()  # 使用 to_real 将字符串转换为浮点数

print("Original String:", my_string)
print("Converted Float:", my_float)
```
- 之前的 **`toint` 是一个全局函数：**`toint` 是一个全局函数，可以直接使用，不需要字符串对象
- **`to_int` 和 `to_real` 是方法：** `to_int` 和 `to_real` 是字符串对象的方法，因此需要一个字符串对象调用

#### 变量的作用 
- 变量除定义的过程外，必须在函数内进行数值的修改
- 内置代码中的许多变量在修改后，会直接对游戏内容产生实质性的影响。而自定义的变量则不会。
- 因此，可以用自定义的变量来定义逻辑上的游戏数据，而后通过判断逻辑上的数据情况，来调整内置代码中的变量，对游戏的画面、音效等产生实际的影响.
#### Sprite2D
```python
extends Sprite2D

# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	self.position.x +=1
	pass
```
#### Label
```python
extends Label

var str:String = "Hello World"

# Called when the node enters the scene tree for the first time.
func _ready():
	self.text = str
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass
```

#### 函数的概念
- 函数也叫方法或模块，是一套操作的集合。函数也包括自定义函数与内置函数。
- 大部分内置函数可以对游戏内容产生实质性的影响或在代码中起到传递数据的作用。少部分函数比较特殊。 
- 一个函数除名称外，还包括了 【输入信息、处理流程、处理结果】等关键信息。在程序中,一切数据的处理流程都要通过调用函数来实现。 
- 函数调用一般必须指明调用对象

#### Node
```python
extends Node

func _enter_tree(): #`_enter_tree`是一个回调方法，当节点被添加到场景树时会被调用。
    var d = add(1,1) # 本来是self.add 省略了self
    print(d)

func add(a:int, b:int=16)->int : #其中 `a` 的类型被指定为整数 (`int`)，而 `b` 的默认值被设置为 `16`，规定返回值类型为int类型
    var result:int = a + b  
    return result #记得把result的类型指定为函数所要求的返回类型
```

#### 虚函数
- 虚函数是指没有实际处理流程的函数，这部分函数的内容可以由我们自行编写。
- 而内置虚函数则是指 Godot 的制作组规定了特定名称却没有实际处理流程的函数。
- 节点内的虚函数会以下特定的条件下自动被触发。 
	- 条件 1：当节点本身或其周围节点状态发生改变时。【节点创建、节点入“树”、节 点出“树”、节点死亡前、节点的子节点全部加入场景树·】 
	- 条件 2：当场景树的状态发生改变时，且节点自身处于“树”下。【画面刷新、物理 引擎刷新、硬件设备输入】 
	- 条件 3：其他情况。 
- 常用虚函数：`_init , _ready , _process , _physic_process` 

- `_init` 方法是在对象实例化时调用的。它是构造函数的替代，用于执行一些初始化工作。通常情况下，你可以在这里设置一些初始状态或执行其他必要的初始化操作。
```python
func _init(): 
    print("Object initialized")
```
- `_ready` 方法是在节点被添加到场景树后调用的。在这个方法中，你可以执行与场景树相关的初始化工作，因为此时节点已经可以与其他节点进行交互
```python
func _ready(): #节点更新后触发
    print("Node is ready and added to the scene tree")
```
- `_process` 方法是在每一帧都被调用的(画面刷新)。你可以在这里处理与帧相关的逻辑，例如移动、更新动画等。注意，这个方法的执行频率受到游戏的帧率影响。
```python
func _process(delta): #画面刷新后触发
    # delta 参数表示距离上一帧的时间差
    print("Processing frame with delta:", delta)
```
- `_physics_process` 方法与 `_process` 类似，但它是在每一帧物理步骤后调用的。如果你的游戏中涉及到物理引擎，例如处理刚体的移动和碰撞检测，那么你可能更喜欢使用 `_physics_process` 来执行相关逻辑。
```python
func _physics_process(delta): #物理引擎刷新后触发
    # delta 参数表示距离上一物理步骤的时间差
    print("Processing physics step with delta:", delta)
```
#### 变量作用域
- 函数中也可以定义变量，各个函数都拥有一个独立的作用域，在一个函数内部定义的 变量无法在另一个函数中直接访问变量名。 
- 在函数运行结束后变量和变量所代表的数据会自动销毁。某些情况下,变量所代表的数据不会自动销毁（后续教程提及）但变量一定会自动销毁

#### if语句
- 使用 if 可以在函数中设置情况分支，起到控制数据处理流程的作用 ·
- elif 是 if 的补充，一个 if 可以有无数个 elif 对其进行补充。 当所有的 if 与 elif 判断失败时，程序执行 else 内部内容。一个 if 后只能有一个对应的 else。 
- 一个 if 与它对应的 elif 以及 else 都有各自独立的作用域，作用域内定义的变量互相独立。
```python
if condition1:
    # 在条件1为真时执行的代码块
elif condition2:
    # 在条件2为真时执行的代码块
else:
    # 在所有条件都为假时执行的代码块
```

#### while语句
- 避免死循环。要设置破坏循环条件的代码。 
- while 也会产生一个作用域，效果同 if
```python
func calculate_factorial(n):
    var result = 1
    var i = 1

    while i <= n:
        result *= i
        i += 1

    return result

# 调用函数并打印结果
var result = calculate_factorial(5)
print("Factorial of 5:", result)
```


#### 数组操作
- 数组是一组数据的集合。在程序中负责批量处理数据。 
- 数组中的元素可以包括各个类型的数据，也可以对数组内数据类型进行限定。 
- 可以通过 数组名【数字】 的形式来访问数组元素，数字 0 代表数组的第一个元素。 
- 数组可以通过调用函数来增加或去除内部数据。可以使用 size（）来获取数组内元素 总数。 
- 数组是引用变量, 即执行 " 数组A = 数组B " 这段代码时，数组 A 不会重新创建一个与 B 数组相 同的数据。对于 A 的修改可以影响到 B。
```python
# 创建数组
var my_array = []
var initialized_array = [1, 2, 3, "four", 5.0]

# 访问数组元素
var element = initialized_array[2]  # 获取数组中索引为2的元素，即数字3
initialized_array[1] = "two"  # 将索引为1的元素修改为字符串"two"
print(array[-1]) # 5.0

# 获取数组长度
var length = initialized_array.size()  # 获取数组的长度

# 向数组末尾添加元素
initialized_array.append(6)  # 将元素6添加到数组的末尾

# 在指定位置插入元素
initialized_array.insert(2, "new_element")  # 在索引为2的位置插入新元素

# 从数组中移除元素
initialized_array.remove(3)  # 移除数组中值为3的元素

# 或者使用索引移除元素，并将其保存到变量中
var removed_element = initialized_array.remove(1)

# 循环遍历数组
for element in initialized_array:
    print(element)

# 数组排序
initialized_array.sort()

# 数组合并
var array1 = ["One", 2]
var array2 = [3, "Four"]
print(array1 + array2) # ["One", 2, 3, "Four"]

```

#### 数组方法补充

|                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| --------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [all](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-all) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) method **)** const                                                                                                                                                                                                                                                                         |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [any](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-any) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) method **)** const                                                                                                                                                                                                                                                                         |
| void                                                                                                | [append](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-append) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                                                                                                             |
| void                                                                                                | [append_array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-append-array) **(** [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array) array **)**                                                                                                                                                                                                                                                                       |
| void                                                                                                | [assign](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-assign) **(** [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array) array **)**                                                                                                                                                                                                                                                                                   |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [back](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-back) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                            |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [bsearch](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-bsearch) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value, [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool) before=true **)** const                                                                                                                                                                      |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [bsearch_custom](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-bsearch-custom) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value, [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) func, [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool) before=true **)** const                                                    |
| void                                                                                                | [clear](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-clear) **(** **)**                                                                                                                                                                                                                                                                                                                                                                                |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [count](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-count) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)** const                                                                                                                                                                                                                                                                         |
| [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array)                | [duplicate](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-duplicate) **(** [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool) deep=false **)** const                                                                                                                                                                                                                                                                     |
| void                                                                                                | [erase](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-erase) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                                                                                                               |
| void                                                                                                | [fill](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-fill) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                                                                                                                 |
| [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array)                | [filter](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-filter) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) method **)** const                                                                                                                                                                                                                                                                   |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [find](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-find) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) what, [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) from=0 **)** const                                                                                                                                                                                     |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [front](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-front) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                          |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [get_typed_builtin](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-get-typed-builtin) **(** **)** const                                                                                                                                                                                                                                                                                                                                                  |
| [StringName](https://docs.godotengine.org/en/stable/classes/class_stringname.html#class-stringname) | [get_typed_class_name](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-get-typed-class-name) **(** **)** const                                                                                                                                                                                                                                                                                                                                            |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [get_typed_script](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-get-typed-script) **(** **)** const                                                                                                                                                                                                                                                                                                                                                    |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [has](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-has) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)** const                                                                                                                                                                                                                                                                             |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [hash](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-hash) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                            |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [insert](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-insert) **(** [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) position, [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                    |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [is_empty](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-is-empty) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                    |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [is_read_only](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-is-read-only) **(** **)** const                                                                                                                                                                                                                                                                                                                                                            |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [is_same_typed](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-is-same-typed) **(** [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array) array **)** const                                                                                                                                                                                                                                                               |
| [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)                   | [is_typed](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-is-typed) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                    |
| void                                                                                                | [make_read_only](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-make-read-only) **(** **)**                                                                                                                                                                                                                                                                                                                                                              |
| [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array)                | [map](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-map) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) method **)** const                                                                                                                                                                                                                                                                         |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [max](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-max) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                              |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [min](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-min) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                              |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [pick_random](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-pick-random) **(** **)** const                                                                                                                                                                                                                                                                                                                                                              |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [pop_at](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-pop-at) **(** [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) position **)**                                                                                                                                                                                                                                                                                      |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [pop_back](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-pop-back) **(** **)**                                                                                                                                                                                                                                                                                                                                                                          |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [pop_front](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-pop-front) **(** **)**                                                                                                                                                                                                                                                                                                                                                                        |
| void                                                                                                | [push_back](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-push-back) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                                                                                                       |
| void                                                                                                | [push_front](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-push-front) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) value **)**                                                                                                                                                                                                                                                                     |
| [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant)          | [reduce](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-reduce) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) method, [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) accum=null **)** const                                                                                                                                                            |
| void                                                                                                | [remove_at](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-remove-at) **(** [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) position **)**                                                                                                                                                                                                                                                                                |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [resize](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-resize) **(** [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) size **)**                                                                                                                                                                                                                                                                                          |
| void                                                                                                | [reverse](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-reverse) **(** **)**                                                                                                                                                                                                                                                                                                                                                                            |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [rfind](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-rfind) **(** [Variant](https://docs.godotengine.org/en/stable/classes/class_variant.html#class-variant) what, [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) from=-1 **)** const                                                                                                                                                                                  |
| void                                                                                                | [shuffle](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-shuffle) **(** **)**                                                                                                                                                                                                                                                                                                                                                                            |
| [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)                      | [size](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-size) **(** **)** const                                                                                                                                                                                                                                                                                                                                                                            |
| [Array](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array)                | [slice](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-slice) **(** [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) begin, [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) end=2147483647, [int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int) step=1, [bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool) deep=false **)** const |
| void                                                                                                | [sort](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-sort) **(** **)**                                                                                                                                                                                                                                                                                                                                                                                  |
| void                                                                                                | [sort_custom](https://docs.godotengine.org/en/stable/classes/class_array.html#class-array-method-sort-custom) **(** [Callable](https://docs.godotengine.org/en/stable/classes/class_callable.html#class-callable) func **)**                                                                                                                                                                                                                                                                 |
                                                                                                                                                                   |

#### 向量操作
- **移动：** `Vector2` 经常用于表示对象的位置、速度和加速度。通过将位置向量与速度向量相加，你可以更新对象的位置。
- **方向：** 通过归一化向量，你可以获得表示方向的单位向量
- **碰撞检测：** `Vector2` 也可以用于执行一些简单的碰撞检测计算，例如检测两个对象之间的距离。
- **数学计算：** `Vector2` 类型支持许多数学运算，使其成为执行二维数学计算的强大工具。
```python
# 创建 Vector2 对象
var my_vector = Vector2(2, 3)

# 获取向量的 x 和 y 分量
var x_component = my_vector.x
var y_component = my_vector.y

# 计算向量的长度和距离
var length = my_vector.length()
var distance = my_vector.distance_to(Vector2(5, 7))

# 归一化向量
var normalized_vector = my_vector.normalized()

# 计算点积和叉积
var vector1 = Vector2(2, 3)
var vector2 = Vector2(5, 7)
var dot_product = vector1.dot(vector2)
var cross_product = vector1.cross(vector2)

# 旋转向量
var rotated_vector = my_vector.rotated(Math.PI/2)

# 一些常见应用场景
# 移动：更新对象的位置
var position = Vector2(10, 20)
var velocity = Vector2(5, 0)
position += velocity * delta

# 方向：获取单位向量表示方向
var direction = Vector2(3, 4).normalized()

# 碰撞检测：计算两个对象之间的距离
var object1_position = Vector2(0, 0)
var object2_position = Vector2(5, 5)
var distance_between_objects = object1_position.distance_to(object2_position)

```
#### 向量方法
|   |   |
|---|---|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[abs](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-abs) **(** **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[angle](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-angle) **(** **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[angle_to](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-angle-to) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[angle_to_point](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-angle-to-point) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[aspect](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-aspect) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[bezier_derivative](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-bezier-derivative) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) control_1, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) control_2, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) end, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) t **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[bezier_interpolate](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-bezier-interpolate) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) control_1, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) control_2, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) end, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) t **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[bounce](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-bounce) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) n **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[ceil](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-ceil) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[clamp](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-clamp) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) min, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) max **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[cross](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-cross) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) with **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[cubic_interpolate](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-cubic-interpolate) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) b, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) pre_a, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) post_b, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) weight **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[cubic_interpolate_in_time](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-cubic-interpolate-in-time) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) b, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) pre_a, [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) post_b, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) weight, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) b_t, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) pre_a_t, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) post_b_t **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[direction_to](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-direction-to) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[distance_squared_to](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-distance-squared-to) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[distance_to](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-distance-to) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[dot](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-dot) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) with **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[floor](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-floor) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[from_angle](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-from-angle) **(** [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) angle **)** static|
|[bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)|[is_equal_approx](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-is-equal-approx) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to **)** const|
|[bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)|[is_finite](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-is-finite) **(** **)** const|
|[bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)|[is_normalized](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-is-normalized) **(** **)** const|
|[bool](https://docs.godotengine.org/en/stable/classes/class_bool.html#class-bool)|[is_zero_approx](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-is-zero-approx) **(** **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[length](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-length) **(** **)** const|
|[float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float)|[length_squared](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-length-squared) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[lerp](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-lerp) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) weight **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[limit_length](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-limit-length) **(** [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) length=1.0 **)** const|
|[int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)|[max_axis_index](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-max-axis-index) **(** **)** const|
|[int](https://docs.godotengine.org/en/stable/classes/class_int.html#class-int)|[min_axis_index](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-min-axis-index) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[move_toward](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-move-toward) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) delta **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[normalized](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-normalized) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[orthogonal](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-orthogonal) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[posmod](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-posmod) **(** [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) mod **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[posmodv](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-posmodv) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) modv **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[project](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-project) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) b **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[reflect](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-reflect) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) n **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[rotated](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-rotated) **(** [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) angle **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[round](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-round) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[sign](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-sign) **(** **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[slerp](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-slerp) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) to, [float](https://docs.godotengine.org/en/stable/classes/class_float.html#class-float) weight **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[slide](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-slide) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) n **)** const|
|[Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2)|[snapped](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2-method-snapped) **(** [Vector2](https://docs.godotengine.org/en/stable/classes/class_vector2.html#class-vector2) step **)** const|

#### 单例
- 单例是一个可以在任何一个脚本中对其进行直接访问的对象，分为内置单例与自定义 单例。每个单例都是独一无二的对象
- 内置单例不是节点，主要成员是各类 Server，开发者可以使用它们直接控制游戏程序 的图形与音效等内容。此外，还包括了一些其他对象，它们涉及的范围包括网络、时 间、电脑系统、输入等。 
- 自定义单例必须是节点类型的对象，是开发者自定义的全局对象。

#### Input单例 
- Input 是一个重要对象，它可以对玩家的按键情况进行反馈 
- Input 的 Action 手动设置。 
- Input 的常用函数介绍

#### 轮询Polling
在_process 或_physic_process 中通过 Input 单例来获取按键情况，这种一秒数十 次检测游戏输入情况的编码方式称为轮训。 
If+ 轮询 + 修改内置变量 = 游戏在玩家的控制下发生实质性的改变。

```python
extends Node2D

func _process(delta):
    # 使用Input单例来检测按键
    if Input.is_action_pressed("ui_right"):
        # 当右箭头键被按下时，在这里执行相应的操作
        # 例如，移动角色或者进行其他操作
        print("Right arrow key pressed")

    # 同样的方式可以检测其他按键
    if Input.is_action_pressed("ui_left"):
        print("Left arrow key pressed")

    # 这里可以继续添加其他按键的检测

```
#### 自定义单例
- 在Godot项目设置中，你可以使用`autoload`功能将单例自动加载到项目中。这意味着在游戏启动时，单例将自动实例化并准备好使用，无需手动调用`get_singleton_instance`。
- 在项目设置中，选择“AutoLoad”选项卡，然后将单例脚本添加到“`AutoLoad`”列表中，指定一个全局路径。
	- 单例通常用于存储全局数据和提供全局服务。确保只在必要时使用单例，以避免滥用全局状态。
	- 尽量将单例的功能模块化，以便于维护和理解。
	- 可以在任意一个脚本中对它们进行直接访问 

```python
# 使用单例中的属性
singleton.some_variable = 42 

# 调用单例中的方法
singleton.some_method()

```
#### get_node()
- 场景内节点的协调工作主要使用`get_node()`函数来进行沟通和交流
```python
var soundnode = get_node("sound") #使用变量存取
soundnode.play() #随后调用该对象内函数
#或者
get_node("sound").play() #声音节点直接获取并调用播放
$sound.play() #使用"符号$+节点名称"来达到相同效果

#当需要调用子节点和父节点时 
get_child(1).play #此时意味着调用的是第一个 

#父节点
get_parent()
get_node(..)


```
- 优点: 
	▪ 可以直接获取到对象，然后调用对象内部方法或访问对象内部变量。 
- 缺陷:
	▪ 使用时必须知道子节点的名称
	▪ 使用 get_node 获取对象并直接调用对象内部方法或访问变量，
	▪ 如果对象、函数或方法不存在，程序会直接崩溃报错，对分块测试不友好

- 例子: 当小球接触玩家 2 的球拍时，球拍发出响声 
	▪ 本质：在 Area2D 节点的脚本内命令声音节点工作 
	▪ 前提：需要在 Area2D 脚本中获取声音节点对象 
	▪ 操作：声音节点对象调用播放音乐的函数

#### 信号

- 信号机制是 Godot 内一种调用函数的机制。
	▪ 它需要将一个对象的“信号”与另一个对象的“函数”绑定。信号发射后程序会进行 函数的调用。
	▪ 在绑定与调用过程中，如果双方对象，或目标方法不存在，则程序只会警告开发者，而不会崩溃。 
	▪ 如果使用信号去进行不同场景之间节点的调用，则可以保证每个场景都能够单独运行，方便对场景展开测试。
- 信号的来源 
	▪ 内置信号 ：·在内置代码中定义，在一定条件下由 Godot 自动触发
	▪ 自定义信号：需要由开发者在 GDS 中进行定义并触发 
- 信号的绑定 
	▪ 编辑器内绑定--方便快捷，容易操作。 代码绑定--适用的情况更丰富 
	▪ 自定义信号的发射 : emit_signal
```python
signal signal_test #自定义信号

func _ready():
	self.connect("signal_test",Callable(self,"func_test"))
	emit_signal("signal_test",number) #后面的number是传入给abc所绑定函数中,当然可以不止这一个参数
	emit_signal("signal_test") #可以不传参,看signal所绑定的参数

func func_test(delta):
	print(delta)
```
- 信号的连接与发射
	▪ Godot 中所有的对象都可以进行信号的连接。 
	▪ 一个对象A内部的信号只属于这个对象A,另一个对象B的同名信号在发射后无法触发A所绑定的方法。 
	▪ 每个对象内部都含有一个连接表,它记录了自身内部信号与方法的绑定情况,在发射时,对象会自动查询内部表格

#### 对象与继承

- 父节点文件
```python
class_name parent_node #将当前脚本定义成父节点
extends Node

func a():
	print("a")
	pass
```

- 子节点文件
```python
extends parent_node #继承父节点
func _ready():
	super.a() #直接调用父节点中的a()函数,也可以不加super,但是要注意接下来有没有同名函数
func a(): #同名函数
	super() #此时是在子节点的a()函数內部在执行一次父节点的a()函数
	pass
```

#### 文档阅读技巧

①文档内容介绍 
▪ 类名：类的名称 
▪ 继承：当前文档的类继承的其他类，当前文档类拥有这些类的所有特征 
▪ 派生：此类的子类 
▪ 描述：文本介绍 
▪ 属性：内置变量 [变量类型 变量名 ]
▪ 方法：内置函数 [返回值类型 函数名（参数名：参数类型） 函数后缀]
▪ 信号：内置信号 [信号名 信号附加参数]
▪ 枚举：表示特定数字的英文字母

#### object